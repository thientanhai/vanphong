(()=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(o)?o:String(o)),r)}var i,o}function t(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}var a=t((function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e,t=$(document).find(".slug-field-wrapper");$(document).on("blur",".js-base-form input[name=".concat(t.data("field-name"),"]"),(function(n){if(!(t=$(document).find(".slug-field-wrapper")).find('input[name="slug"]').is("[readonly]")){var e=$(n.currentTarget).val();null===e||""===e||t.find('input[name="slug"]').val()||r(e,0)}})),$(document).on("keyup",'input[name="slug"]',(function(n){clearTimeout(e),e=setTimeout((function(){var e=$(n.currentTarget);if(0!==(t=$(document).find(".slug-field-wrapper")).has(".slug-data").length){var a=e.val();null!==a&&""!==a?r(a,t.find(".slug-data").data("id")||0):e.addClass("is-invalid")}}),700)})),$(document).on("click",'[data-bb-toggle="generate-slug"]',(function(n){n.preventDefault();var e=$(n.currentTarget).closest(".js-base-form").find("input[name=".concat(t.data("field-name"),"]"));null!==e.val()&&""!==e.val()&&r(e.val(),t.find(".slug-data").data("id")||0)}));var a=function(){var n=t.find(".slug-actions a"),e=$('<div class="spinner-border spinner-border-sm" role="status"></div>');n.hasClass("d-none")?(n.removeClass("d-none"),t.find(".spinner-border").remove()):(n.addClass("d-none"),n.after(e))},r=function(n,e){var r=(t=$(document).find(".slug-field-wrapper")).closest("form"),i=t.find(".slug-data");a(),$httpClient.make().post(i.data("url"),{value:n,slug_id:e.toString(),model:r.find('input[name="model"]').val()}).then((function(n){var e=n.data;a();var o="".concat(i.data("view")).concat(e.toString().replace("/",""));t.find('input[name="slug"]').val(e),r.find(".page-url-seo p").text(o),t.find(".slug-current").val(e)}))}}));$((function(){new a}))})();